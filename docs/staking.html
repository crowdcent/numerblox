---

title: Staking


keywords: fastai
sidebar: home_sidebar

summary: "Automated staking functionality for Numerai Classic and Numerai Signals."
description: "Automated staking functionality for Numerai Classic and Numerai Signals."
nb_path: "nbs/10_staking.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/10_staking.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="0.-BaseStaker">0. BaseStaker<a class="anchor-link" href="#0.-BaseStaker"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Staking functionality that is the same for both Numerai Classic and Numerai Signals.</p>
<p>Note that using staking functionality requires a <a href="/numerblox/key.html#Key"><code>Key</code></a> object as input argument.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="BaseStaker" class="doc_header"><code>class</code> <code>BaseStaker</code><a href="https://github.com/crowdcent/numerblox/tree/master/numerblox/staking.py#L17" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>BaseStaker</code>(<strong><code>key</code></strong>:<a href="/numerblox/key.html#Key"><code>Key</code></a>, <strong><code>tournament_number</code></strong>:<code>int</code>, <strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Base class for staking functionality which holds in both Numerai Classic and Signals.</p>
<p>:param key: a <a href="/numerblox/key.html#Key"><code>Key</code></a> object</p>
<p>:param tournament_number: ID of the tournament (8 for Numerai Classic and 11 for Numerai Signals).</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="487468f1-d981-40ab-8e91-6457a1d7bec0"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#487468f1-d981-40ab-8e91-6457a1d7bec0');

            setTimeout(function() {
                var nbb_cell_id = 5;
                var nbb_unformatted_code = "#export\n@typechecked\nclass BaseStaker:\n    \"\"\"\n    Base class for staking functionality which holds in both Numerai Classic and Signals.\n\n    | :param key: a numerai-blocks Key object \\\n    | :param tournament_number: ID of the tournament (8 for Numerai Classic and 11 for Numerai Signals).\n    \"\"\"\n    def __init__(self, key: Key, tournament_number: int, *args, **kwargs):\n        self.tournament_number = tournament_number\n        self.api = NumerAPI(public_id=key.pub_id, secret_key=key.secret_key, *args, **kwargs)\n\n    def stake_change(self, model_name: str, amount: Union[float, str]):\n        \"\"\"\n        Change arbitrary stake amount.\n        :param model_name: Lowercase raw model name (For example, 'integration_test').\n        :param amount: NMR amount to increase or decrease.\n        negative number = Stake decrease.\n        positive number = Stake increase.\n        \"\"\"\n        action = 'decrease' if amount < 0 else 'increase'\n        color = 'red' if amount < 0 else 'green'\n        model_id = self._get_model_id(model_name=model_name)\n        rich_print(f\"[bold {color}]{action[:-1]}ing[/bold {color}] stake by amount '[bold {color}]{amount}[/bold {color}]' for model: [bold blue]'{model_name}'[/bold blue] (id='{model_id}')!\")\n        self.api.stake_change(nmr=amount, action=action,\n                              model_id=model_id, tournament=self.tournament_number)\n\n    def stake_drain_all(self):\n        \"\"\"\n        -WARNING- This function will remove all stakes for all models in your account!!! -WARNING-\n        User must answer prompt with 'Y' to confirm stake drain.\n        \"\"\"\n        prompt = input(f\"WARNING: You are about to remove all stakes for all your models! Are you sure? [Y/n]\")\n        if prompt == \"Y\":\n            model_names = list(self.get_model_mapping.keys())\n            for name in tqdm(model_names, desc=\"Full stake drain!\"):\n                self.stake_drain_single(model_name=name)\n        else:\n            rich_print(\"Aborting full stake draining.\")\n\n    def stake_drain_single(self, model_name: str):\n        \"\"\"\n        -WARNING- This function removes your full stake for a given model name!!! -WARNING-\n        :param model_name: Lowercase raw model name (For example, 'integration_test').\n        \"\"\"\n        model_id = self._get_model_id(model_name=model_name)\n        rich_print(f\":warning: Draining stake for model: '{model_name}' (id: '{model_id}' :warning:\")\n        self.api.stake_drain(model_id=model_id, tournament=self.tournament_number)\n\n    def _get_model_id(self, model_name: str) -> str:\n        \"\"\"\n        Get ID needed for staking.\n        :param model_name: Lowercase raw model name (For example, 'integration_test').\n        \"\"\"\n        return self.get_model_mapping[model_name]\n\n    @property\n    def get_model_mapping(self) -> dict:\n        \"\"\" Mapping between raw model names and model IDs. \"\"\"\n        return self.api.get_models()\n\n    @property\n    def available_nmr(self):\n        \"\"\" Get amount of NMR that is available in your local wallet. \"\"\"\n        return np.float64(self.api.get_account()['availableNmr'])";
                var nbb_formatted_code = "# export\n@typechecked\nclass BaseStaker:\n    \"\"\"\n    Base class for staking functionality which holds in both Numerai Classic and Signals.\n\n    | :param key: a numerai-blocks Key object \\\n    | :param tournament_number: ID of the tournament (8 for Numerai Classic and 11 for Numerai Signals).\n    \"\"\"\n\n    def __init__(self, key: Key, tournament_number: int, *args, **kwargs):\n        self.tournament_number = tournament_number\n        self.api = NumerAPI(\n            public_id=key.pub_id, secret_key=key.secret_key, *args, **kwargs\n        )\n\n    def stake_change(self, model_name: str, amount: Union[float, str]):\n        \"\"\"\n        Change arbitrary stake amount.\n        :param model_name: Lowercase raw model name (For example, 'integration_test').\n        :param amount: NMR amount to increase or decrease.\n        negative number = Stake decrease.\n        positive number = Stake increase.\n        \"\"\"\n        action = \"decrease\" if amount < 0 else \"increase\"\n        color = \"red\" if amount < 0 else \"green\"\n        model_id = self._get_model_id(model_name=model_name)\n        rich_print(\n            f\"[bold {color}]{action[:-1]}ing[/bold {color}] stake by amount '[bold {color}]{amount}[/bold {color}]' for model: [bold blue]'{model_name}'[/bold blue] (id='{model_id}')!\"\n        )\n        self.api.stake_change(\n            nmr=amount,\n            action=action,\n            model_id=model_id,\n            tournament=self.tournament_number,\n        )\n\n    def stake_drain_all(self):\n        \"\"\"\n        -WARNING- This function will remove all stakes for all models in your account!!! -WARNING-\n        User must answer prompt with 'Y' to confirm stake drain.\n        \"\"\"\n        prompt = input(\n            f\"WARNING: You are about to remove all stakes for all your models! Are you sure? [Y/n]\"\n        )\n        if prompt == \"Y\":\n            model_names = list(self.get_model_mapping.keys())\n            for name in tqdm(model_names, desc=\"Full stake drain!\"):\n                self.stake_drain_single(model_name=name)\n        else:\n            rich_print(\"Aborting full stake draining.\")\n\n    def stake_drain_single(self, model_name: str):\n        \"\"\"\n        -WARNING- This function removes your full stake for a given model name!!! -WARNING-\n        :param model_name: Lowercase raw model name (For example, 'integration_test').\n        \"\"\"\n        model_id = self._get_model_id(model_name=model_name)\n        rich_print(\n            f\":warning: Draining stake for model: '{model_name}' (id: '{model_id}' :warning:\"\n        )\n        self.api.stake_drain(model_id=model_id, tournament=self.tournament_number)\n\n    def _get_model_id(self, model_name: str) -> str:\n        \"\"\"\n        Get ID needed for staking.\n        :param model_name: Lowercase raw model name (For example, 'integration_test').\n        \"\"\"\n        return self.get_model_mapping[model_name]\n\n    @property\n    def get_model_mapping(self) -> dict:\n        \"\"\"Mapping between raw model names and model IDs.\"\"\"\n        return self.api.get_models()\n\n    @property\n    def available_nmr(self):\n        \"\"\"Get amount of NMR that is available in your local wallet.\"\"\"\n        return np.float64(self.api.get_account()[\"availableNmr\"])";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Example-usage:-basic-functionality">Example usage: basic functionality<a class="anchor-link" href="#Example-usage:-basic-functionality"> </a></h4>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">key</span> <span class="o">=</span> <span class="n">load_key_from_json</span><span class="p">(</span><span class="s2">&quot;test_assets/test_credentials.json&quot;</span><span class="p">)</span>
<span class="c1"># Numerai Classic tournament number = 8</span>
<span class="n">base_staker</span> <span class="o">=</span> <span class="n">BaseStaker</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">,</span> <span class="n">tournament_number</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">ðŸ”‘ Numerai Auth key initialized with pub_id = <span style="color: #008000; text-decoration-color: #008000">'UFVCTElDX0lE'</span> ðŸ”‘
</pre>

</div>

</div>

<div class="output_area">




<div id="b82409e5-e21f-42f8-a120-d6e2637cc9c7"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#b82409e5-e21f-42f8-a120-d6e2637cc9c7');

            setTimeout(function() {
                var nbb_cell_id = 6;
                var nbb_unformatted_code = "key = load_key_from_json(\"test_assets/test_credentials.json\")\n# Numerai Classic tournament number = 8\nbase_staker = BaseStaker(key=key, tournament_number=8)";
                var nbb_formatted_code = "key = load_key_from_json(\"test_assets/test_credentials.json\")\n# Numerai Classic tournament number = 8\nbase_staker = BaseStaker(key=key, tournament_number=8)";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Mapping between raw model names and model IDs.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># base_staker.get_model_mapping</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="426d2e95-e7c9-4ffd-b24d-c82dda895a47"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#426d2e95-e7c9-4ffd-b24d-c82dda895a47');

            setTimeout(function() {
                var nbb_cell_id = 7;
                var nbb_unformatted_code = "# base_staker.get_model_mapping";
                var nbb_formatted_code = "# base_staker.get_model_mapping";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Check NMR in local wallet.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># base_staker.available_nmr</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="97c6600a-b0a3-403f-9d34-95bf252bfdf8"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#97c6600a-b0a3-403f-9d34-95bf252bfdf8');

            setTimeout(function() {
                var nbb_cell_id = 8;
                var nbb_unformatted_code = "# base_staker.available_nmr";
                var nbb_formatted_code = "# base_staker.available_nmr";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Change stake for model "test".</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># base_staker.stake_change(&quot;test&quot;, 0.01)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="f39fd3f8-e795-4fb7-9bdf-571ffc9e8ba6"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#f39fd3f8-e795-4fb7-9bdf-571ffc9e8ba6');

            setTimeout(function() {
                var nbb_cell_id = 9;
                var nbb_unformatted_code = "# base_staker.stake_change(\"test\", -0.01)\n# base_staker.stake_change(\"test\", 0.01)";
                var nbb_formatted_code = "# base_staker.stake_change(\"test\", -0.01)\n# base_staker.stake_change(\"test\", 0.01)";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>WARNING! This method will remove the full stake for a given model name!</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># base_staker.stake_drain_single(model_name=&quot;test&quot;)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="e69d7a59-77ae-4971-91d1-29983d7daedb"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#e69d7a59-77ae-4971-91d1-29983d7daedb');

            setTimeout(function() {
                var nbb_cell_id = 10;
                var nbb_unformatted_code = "# base_staker.stake_drain_single(model_name=\"test\")";
                var nbb_formatted_code = "# base_staker.stake_drain_single(model_name=\"test\")";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>WARNING! This method will remove all stakes for all your models!</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># base_staker.stake_drain_all()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="a9335d75-6c0e-46eb-a5f5-a9f440a6ed76"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#a9335d75-6c0e-46eb-a5f5-a9f440a6ed76');

            setTimeout(function() {
                var nbb_cell_id = 11;
                var nbb_unformatted_code = "# base_staker.stake_drain_all()";
                var nbb_formatted_code = "# base_staker.stake_drain_all()";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="1.-Numerai-Classic">1. Numerai Classic<a class="anchor-link" href="#1.-Numerai-Classic"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The option to get a mapping from model names to NMR staked is only supported for Numerai Classic in <code>numerapi</code>. The reason for this is that unfortunately, <code>numerapi</code> does not support <code>NumerAPI().stake_get</code> for Numerai Signals models.
Future versions will support this feature for Numerai Signals.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="NumeraiClassicStaker" class="doc_header"><code>class</code> <code>NumeraiClassicStaker</code><a href="https://github.com/crowdcent/numerblox/tree/master/numerblox/staking.py#L83" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>NumeraiClassicStaker</code>(<strong><code>key</code></strong>:<a href="/numerblox/key.html#Key"><code>Key</code></a>, <strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>) :: <a href="/numerblox/staking.html#BaseStaker"><code>BaseStaker</code></a></p>
</blockquote>
<p>Staking functionality specific to Numerai Classic (tournament number 8).</p>
<p>:param key: a <a href="/numerblox/key.html#Key"><code>Key</code></a> object.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="2ef50e0e-c042-4e01-b04d-4e2da56c9a49"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#2ef50e0e-c042-4e01-b04d-4e2da56c9a49');

            setTimeout(function() {
                var nbb_cell_id = 12;
                var nbb_unformatted_code = "#export\nclass NumeraiClassicStaker(BaseStaker):\n    \"\"\" Staking functionality specific to Numerai Classic (tournament number 8). \"\"\"\n    CLASSIC_TOURNAMENT_NUMBER = 8\n    def __init__(self, key: Key, *args, **kwargs):\n        super().__init__(key=key, tournament_number=self.CLASSIC_TOURNAMENT_NUMBER,\n                         *args, **kwargs\n                         )\n\n    @property\n    def get_stakes(self) -> dict:\n        \"\"\"\n        Get mapping of stakes for all models.\n        Example output:\n            {\n            \"my_model_1\": 20.2,\n            \"my_model_2\": 100.5,\n            \"my_model_3: 0.01\n            }\n        \"\"\"\n        stakes = [self._get_single_stake(model_name=model_name) for model_name in self.get_model_mapping.keys()]\n        return {name: stake for name, stake in zip(self.get_model_mapping, stakes)}\n\n    def _get_single_stake(self, model_name: str) -> np.float64:\n        return np.float64(self.api.stake_get(username=model_name))";
                var nbb_formatted_code = "# export\nclass NumeraiClassicStaker(BaseStaker):\n    \"\"\"Staking functionality specific to Numerai Classic (tournament number 8).\"\"\"\n\n    CLASSIC_TOURNAMENT_NUMBER = 8\n\n    def __init__(self, key: Key, *args, **kwargs):\n        super().__init__(\n            key=key, tournament_number=self.CLASSIC_TOURNAMENT_NUMBER, *args, **kwargs\n        )\n\n    @property\n    def get_stakes(self) -> dict:\n        \"\"\"\n        Get mapping of stakes for all models.\n        Example output:\n            {\n            \"my_model_1\": 20.2,\n            \"my_model_2\": 100.5,\n            \"my_model_3: 0.01\n            }\n        \"\"\"\n        stakes = [\n            self._get_single_stake(model_name=model_name)\n            for model_name in self.get_model_mapping.keys()\n        ]\n        return {name: stake for name, stake in zip(self.get_model_mapping, stakes)}\n\n    def _get_single_stake(self, model_name: str) -> np.float64:\n        return np.float64(self.api.stake_get(username=model_name))";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Example-usage:-Numerai-Classic-functionality">Example usage: Numerai Classic functionality<a class="anchor-link" href="#Example-usage:-Numerai-Classic-functionality"> </a></h4>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">classic_staker</span> <span class="o">=</span> <span class="n">NumeraiClassicStaker</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">)</span>
<span class="c1"># Numerai Classic tournament number = 8</span>
<span class="k">assert</span> <span class="n">classic_staker</span><span class="o">.</span><span class="n">CLASSIC_TOURNAMENT_NUMBER</span> <span class="o">==</span> <span class="mi">8</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="66c34541-a9e9-4c65-acdd-2e616c060b07"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#66c34541-a9e9-4c65-acdd-2e616c060b07');

            setTimeout(function() {
                var nbb_cell_id = 13;
                var nbb_unformatted_code = "classic_staker = NumeraiClassicStaker(key=key)\n# Numerai Classic tournament number = 8\nassert classic_staker.CLASSIC_TOURNAMENT_NUMBER == 8";
                var nbb_formatted_code = "classic_staker = NumeraiClassicStaker(key=key)\n# Numerai Classic tournament number = 8\nassert classic_staker.CLASSIC_TOURNAMENT_NUMBER == 8";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Get all your models with corresponding NMR staked (dict).</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># classic_staker.get_stakes</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="57128dd1-8e2a-4273-86e1-aee041c01dec"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#57128dd1-8e2a-4273-86e1-aee041c01dec');

            setTimeout(function() {
                var nbb_cell_id = 14;
                var nbb_unformatted_code = "# classic_staker.get_stakes";
                var nbb_formatted_code = "# classic_staker.get_stakes";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="2.-Numerai-Signals">2. Numerai Signals<a class="anchor-link" href="#2.-Numerai-Signals"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="NumeraiSignalsStaker" class="doc_header"><code>class</code> <code>NumeraiSignalsStaker</code><a href="https://github.com/crowdcent/numerblox/tree/main/numerblox/staking.py#L112" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>NumeraiSignalsStaker</code>(<strong><code>key</code></strong>:<a href="/numerblox/key.html#Key"><code>Key</code></a>, <strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>) :: <a href="/numerblox/staking.html#BaseStaker"><code>BaseStaker</code></a></p>
</blockquote>
<p>Staking functionality specific to Numerai Signals (tournament number 11).</p>
<p>:param key: a <a href="/numerblox/key.html#Key"><code>Key</code></a> object.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="55c76e71-5c3f-4fff-b6d2-6951fbc2a7ac"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#55c76e71-5c3f-4fff-b6d2-6951fbc2a7ac');

            setTimeout(function() {
                var nbb_cell_id = 15;
                var nbb_unformatted_code = "#export\nclass NumeraiSignalsStaker(BaseStaker):\n    \"\"\" Staking functionality specific to Numerai Signals (tournament number 11). \"\"\"\n    SIGNALS_TOURNAMENT_NUMBER = 11\n    def __init__(self, key: Key, *args, **kwargs):\n        super().__init__(key=key,\n                         tournament_number=self.SIGNALS_TOURNAMENT_NUMBER,\n                         *args, **kwargs\n                         )";
                var nbb_formatted_code = "# export\nclass NumeraiSignalsStaker(BaseStaker):\n    \"\"\"Staking functionality specific to Numerai Signals (tournament number 11).\"\"\"\n\n    SIGNALS_TOURNAMENT_NUMBER = 11\n\n    def __init__(self, key: Key, *args, **kwargs):\n        super().__init__(\n            key=key, tournament_number=self.SIGNALS_TOURNAMENT_NUMBER, *args, **kwargs\n        )";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Example-usage:-Numerai-Signals-functionality">Example usage: Numerai Signals functionality<a class="anchor-link" href="#Example-usage:-Numerai-Signals-functionality"> </a></h4><p>Currently there is no Signals specific staking functionality.</p>
<p><a href="/numerblox/staking.html#NumeraiSignalsStaker"><code>NumeraiSignalsStaker</code></a> just makes sure we use the correct tournament number.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">signals_staker</span> <span class="o">=</span> <span class="n">NumeraiSignalsStaker</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">)</span>
<span class="c1"># Numerai Classic tournament number = 11</span>
<span class="k">assert</span> <span class="n">signals_staker</span><span class="o">.</span><span class="n">SIGNALS_TOURNAMENT_NUMBER</span> <span class="o">==</span> <span class="mi">11</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">




<div id="533a6429-b7f2-4ae2-8e4b-1bd17a529e69"></div>
<div class="output_subarea output_javascript ">
<script type="text/javascript">
var element = $('#533a6429-b7f2-4ae2-8e4b-1bd17a529e69');

            setTimeout(function() {
                var nbb_cell_id = 16;
                var nbb_unformatted_code = "signals_staker = NumeraiSignalsStaker(key=key)\n# Numerai Classic tournament number = 11\nassert signals_staker.SIGNALS_TOURNAMENT_NUMBER == 11";
                var nbb_formatted_code = "signals_staker = NumeraiSignalsStaker(key=key)\n# Numerai Classic tournament number = 11\nassert signals_staker.SIGNALS_TOURNAMENT_NUMBER == 11";
                var nbb_cells = Jupyter.notebook.get_cells();
                for (var i = 0; i < nbb_cells.length; ++i) {
                    if (nbb_cells[i].input_prompt_number == nbb_cell_id) {
                        if (nbb_cells[i].get_text() == nbb_unformatted_code) {
                             nbb_cells[i].set_text(nbb_formatted_code);
                        }
                        break;
                    }
                }
            }, 500);
            
</script>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>

</div>
</div>
</div>
</div>
 

