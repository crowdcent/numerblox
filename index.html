
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
        <link rel="next" href="end_to_end/">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.8">
    
    
      
        <title>numerblox</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.4b4a2bd9.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Ubuntu";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="005380">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#numerblox" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="numerblox" class="md-header__button md-logo" aria-label="numerblox" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 9V1.5h-3V9h-3V1.5h-3V9h-3V1.5H4.65V9H3v1.5h18V9h-1.5m0 4.5h-3V21h-3v-7.5h-3V21h-3v-7.5H4.65V21H3v1.5h18V21h-1.5v-7.5Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            numerblox
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="end_to_end/" class="md-tabs__link">
        
  
    
  
  End-To-End Examples

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="download/" class="md-tabs__link">
        
  
    
  
  Downloaders

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="numerframe/" class="md-tabs__link">
        
  
    
  
  NumerFrame

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="preprocessing/" class="md-tabs__link">
        
  
    
  
  Preprocessing

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="targets/" class="md-tabs__link">
        
  
    
  
  Target Engineering

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="meta/" class="md-tabs__link">
        
  
    
  
  Meta Estimators

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="neutralization/" class="md-tabs__link">
        
  
    
  
  Feature Neutralization

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="penalization/" class="md-tabs__link">
        
  
    
  
  Feature Penalization

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="prediction_loaders/" class="md-tabs__link">
        
  
    
  
  Prediction Loaders

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="models/" class="md-tabs__link">
        
  
    
  
  Models

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="evaluation/" class="md-tabs__link">
        
  
    
  
  Evaluation

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="submission/" class="md-tabs__link">
        
  
    
  
  Submitters

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="contributing/" class="md-tabs__link">
        
  
    
  
  How To Contribute

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="crowdcent/" class="md-tabs__link">
        
  
    
  
  About CrowdCent

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="disclaimer/" class="md-tabs__link">
        
  
    
  
  Disclaimer

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="api/" class="md-tabs__link">
        
  
    
  
  API Reference

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="numerblox" class="md-nav__button md-logo" aria-label="numerblox" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.5 9V1.5h-3V9h-3V1.5h-3V9h-3V1.5H4.65V9H3v1.5h18V9h-1.5m0 4.5h-3V21h-3v-7.5h-3V21h-3v-7.5H4.65V21H3v1.5h18V21h-1.5v-7.5Z"/></svg>

    </a>
    numerblox
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Home
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-installation" class="md-nav__link">
    1. Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-core-functionality" class="md-nav__link">
    2. Core functionality
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-examples" class="md-nav__link">
    3. Examples
  </a>
  
    <nav class="md-nav" aria-label="3. Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-downloading-numerai-classic-data" class="md-nav__link">
    3.1. Downloading Numerai Classic Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-core-numerframe-features" class="md-nav__link">
    3.2. Core NumerFrame features
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-advanced-numerai-models" class="md-nav__link">
    3.3. Advanced Numerai models
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-evaluation" class="md-nav__link">
    3.4. Evaluation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-submission" class="md-nav__link">
    3.5. Submission
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-contributing" class="md-nav__link">
    4. Contributing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-crediting-sources" class="md-nav__link">
    5. Crediting sources
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="end_to_end/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    End-To-End Examples
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="download/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Downloaders
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="numerframe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NumerFrame
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="preprocessing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preprocessing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="targets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Target Engineering
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="meta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Meta Estimators
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="neutralization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feature Neutralization
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="penalization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Feature Penalization
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="prediction_loaders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prediction Loaders
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="models/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Models
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="evaluation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="submission/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Submitters
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How To Contribute
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="crowdcent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About CrowdCent
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="disclaimer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Disclaimer
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-installation" class="md-nav__link">
    1. Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-core-functionality" class="md-nav__link">
    2. Core functionality
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-examples" class="md-nav__link">
    3. Examples
  </a>
  
    <nav class="md-nav" aria-label="3. Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-downloading-numerai-classic-data" class="md-nav__link">
    3.1. Downloading Numerai Classic Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-core-numerframe-features" class="md-nav__link">
    3.2. Core NumerFrame features
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-advanced-numerai-models" class="md-nav__link">
    3.3. Advanced Numerai models
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-evaluation" class="md-nav__link">
    3.4. Evaluation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-submission" class="md-nav__link">
    3.5. Submission
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-contributing" class="md-nav__link">
    4. Contributing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-crediting-sources" class="md-nav__link">
    5. Crediting sources
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<p><img alt="" src="https://img.shields.io/pypi/v/numerblox.png" />
<img alt="" src="https://img.shields.io/pypi/pyversions/numerblox.png" />
<img alt="" src="https://img.shields.io/github/contributors/crowdcent/numerblox.png" />
<img alt="" src="https://img.shields.io/github/issues-raw/crowdcent/numerblox.png" />
<img alt="" src="https://img.shields.io/codecov/c/github/crowdcent/numerblox.png" /></p>
<h1 id="numerblox">NumerBlox</h1>
<p>NumerBlox offers components that help with developing strong Numerai models and inference pipelines. From downloading data to submitting predictions, NumerBlox has you covered.</p>
<p>All components can be used standalone and all processors are fully compatible to use within <a href="https://scikit-learn.org/">scikit-learn</a> pipelines.  </p>
<h2 id="1-installation">1. Installation</h2>
<p>Install numerblox from PyPi by running:</p>
<p><code>pip install numerblox</code></p>
<p>Alternatively you can clone this repository and install it in
development mode by installing using <code>poetry</code>:</p>
<pre><code class="language-bash">git clone https://github.com/crowdcent/numerblox.git
pip install poetry
cd numerblox
poetry install
</code></pre>
<p>Installation without dev dependencies can be done by adding <code>--only main</code> to the <code>poetry install</code> line.</p>
<p>Test your installation using one of the education notebooks in
<a href="https://github.com/crowdcent/numerblox/examples">examples</a>. Good places to start are <a href="https://github.com/crowdcent/numerblox/examples/quickstart.ipynb">quickstart.ipynb</a> and <a href="https://github.com/crowdcent/numerblox/examples/numerai_tutorial.ipynb">numerframe_tutorial.ipynb</a>. Run it in your
Notebook environment to quickly test if your installation has succeeded.
The documentation contains examples and explanations for each component of NumerBlox.</p>
<h2 id="2-core-functionality">2. Core functionality</h2>
<p>NumerBlox has the following features for both Numerai Classic and Signals:</p>
<p><strong><a href="/download/">Data Download</a>:</strong> Automated retrieval of Numerai datasets.</p>
<p><strong><a href="/numerframe/">NumerFrame</a>:</strong> A custom Pandas DataFrame for easier Numerai data manipulation.</p>
<p><strong><a href="/preprocessing/">Preprocessors</a>:</strong> Customizable techniques for data preprocessing.</p>
<p><strong><a href="/targets/">Target Engineering</a>:</strong> Tools for creating new target variables.</p>
<p><strong><a href="/neutralization/">Postprocessors</a>:</strong> Ensembling, neutralization, and penalization.</p>
<p><strong><a href="/meta/">MetaPipeline</a>:</strong> An era-aware pipeline extension of scikit-learn's Pipeline. Specifically designed to integrate with era-specific Postprocessors such as neutralization and ensembling. Can be optionally bypassed for custom implementations.</p>
<p><strong><a href="/meta/">MetaEstimators</a>:</strong> Era-aware estimators that extend scikit-learn's functionality. Includes features like CrossValEstimator which allow for era-specific, multiple-folds fitting seamlessly integrated into the pipeline.</p>
<p><strong><a href="/evaluation/">Evaluation</a>:</strong> Comprehensive metrics aligned with Numerai's evaluation criteria.</p>
<p><strong><a href="/submission/">Submitters</a>:</strong> Facilitates secure and easy submission of predictions.</p>
<p>Example notebooks for each of these components can be found in the <a href="https://github.com/crowdcent/numerblox/examples">examples</a> directory.</p>
<h2 id="3-examples">3. Examples</h2>
<p>Below we will illustrate some common use cases in NumerBlox. To
learn more in-depth about the features of this library, check out
notebooks in <a href="https://github.com/crowdcent/numerblox/examples">examples</a>.</p>
<h3 id="31-downloading-numerai-classic-data">3.1. Downloading Numerai Classic Data</h3>
<p><a href="/download/#numerai-classic/">NumeraiClassicDownloader</a> allows you to download just the data you need with a few lines of code and handles the directory structure for you. All data from v4+ is supported. For Numerai Signals we provide downloaders from several sources for which you can find more information in the <a href="/download/">Downloaders section</a>.</p>
<pre><code class="language-py">import pandas as pd
from numerblox.download import NumeraiClassicDownloader

downloader = NumeraiClassicDownloader(&quot;data&quot;)
# Training and validation data
downloader.download_training_data(&quot;train_val&quot;, version=&quot;4.2&quot;, int8=True)
# Live data
downloader.download_inference_data(&quot;current_round&quot;, version=&quot;4.2&quot;, int8=True)
df = pd.read_parquet(file_path=&quot;data/current_round/live.parquet&quot;)
</code></pre>
<h3 id="32-core-numerframe-features">3.2. Core NumerFrame features</h3>
<p>NumerFrame is powerful data structure which simplifies working with Numerai data. Below are a few examples of how you can leverage NumerFrame for your Numerai workflow. Under the hood NumerFrame is a Pandas DataFrame so you still have access to all Pandas functionality when using NumerFrame.</p>
<p>NumerFrame usage is completely optional. Other NumerBlox components do not depend on it, though they are compatible with it.</p>
<pre><code class="language-py">from numerblox.numerframe import create_numerframe

df = create_numerframe(file_path=&quot;data/current_round/live.parquet&quot;)
# Get data for features, targets and predictions
features = df.get_feature_data
targets = df.get_target_data
predictions = df.get_prediction_data

# Get specific data groups
fncv3_features = df.get_fncv3_features
group_features = df.get_group_features(group='rain')

# Fetch columns by pattern. For example all 20 day targets.
pattern_data = df.get_pattern_data(pattern='_20')
# Or for example Jerome targets.
jerome_targets = df.get_pattern_data(pattern='_jerome_')

# Split into feature and target pairs. Will get single target by default.
X, y = df.get_feature_target_pair()
# Optionally get all targets
X, y = df.get_feature_target_pair(multi_target=True)

# Fetch data for specified eras
X, y = df.get_era_batch(eras=['0001', '0002'])

# Since every operation returns a NumerFrame they can be chained.
# An example chained operation is getting features and targets for the last 2 eras.
X, y = df.get_last_eras(2).get_feature_target_pair()
</code></pre>
<h3 id="33-advanced-numerai-models">3.3. Advanced Numerai models</h3>
<p>All core processors in <code>numerblox</code> are compatible with <code>scikit-learn</code> and therefore also <code>scikit-learn</code> extension libraries like <a href="https://github.com/koaning/scikit-lego">scikit-lego</a>, <a href="https://github.com/lmcinnes/umap">umap</a> and <a href="https://github.com/iryna-kondr/scikit-llm">scikit-llm</a>. </p>
<p>The example below illustrates its seamless integration with <code>scikit-learn</code>. Aside from core <code>scikit-learn</code> processors we use <code>ColumnSelector</code> from the <a href="https://github.com/koaning/scikit-lego">scikit-lego</a> extension library.</p>
<p>For more examples check out the notebooks in the <code>examples</code> directory and the <a href="/end_to_end/">End-To-End Examples section</a>.</p>
<pre><code class="language-py">import pandas as pd
from xgboost import XGBRegressor
from sklearn.pipeline import make_union
from sklearn.model_selection import TimeSeriesSplit
from sklego.preprocessing import ColumnSelector

from numerblox.meta import CrossValEstimator
from numerblox.preprocessing import GroupStatsPreProcessor
from numerblox.numerframe import create_numerframe

# Easy data parsing with NumerFrame
df = create_numerframe(file_path=&quot;data/train_val/train_int8.parquet&quot;)
val_df = create_numerframe(file_path=&quot;data/train_val/validation_int8.parquet&quot;)

X, y = df.get_feature_target_pair()
eras = df.get_era_data()

val_X, val_y = val_df.get_feature_target_pair()
val_eras = val_df.get_era_data()

fncv3_cols = nf.get_fncv3_features.columns.tolist()

# Sunshine/Rain group statistics and FNCv3 features as model input
gpp = GroupStatsPreProcessor(groups=['sunshine', 'rain'])
fncv3_selector = ColumnSelector(fncv3_cols)
preproc_pipe = make_union(gpp, fncv3_selector)

# 5 fold cross validation with XGBoost as model
model = CrossValEstimator(XGBRegressor(), cv=TimeSeriesSplit(n_splits=5))
# Ensemble 5 folds with weighted average
ensembler = NumeraiEnsemble(donate_weighted=True)

full_pipe = make_pipeline(preproc_pipe, model, ensembler)

full_pipe.fit(X, y, numeraiensemble__eras=eras)

val_preds = full_pipe.predict(val_X, eras=val_eras)
</code></pre>
<h3 id="34-evaluation">3.4. Evaluation</h3>
<p><code>NumeraiClassicEvaluator</code> and <code>NumeraiSignalsEvaluator</code> take care of computing all evaluation metrics for you. Below is a quick example of using it for Numerai Classic. 
For more information on advanced usage and which metrics are computed check the <a href="/evaluation/">Evaluators section</a>.</p>
<pre><code class="language-py">from numerblox.evaluation import NumeraiClassicEvaluator

# Validation DataFrame to compute metrics on
val_df = ...

evaluator = NumeraiClassicEvaluator()
metrics = evaluator.full_evaluation(val_df, 
                                    example_col=&quot;example_preds&quot;, 
                                    pred_cols=[&quot;prediction&quot;], 
                                    target_col=&quot;target&quot;)
</code></pre>
<h3 id="35-submission">3.5. Submission</h3>
<p>Submission for both Numerai Class and Signals can be done with a few lines of code. Here we illustrate an example for Numerai Classic. Check out the <a href="/submission/">Submitters section</a> in the documentation for more information.</p>
<pre><code class="language-py">from numerblox.misc import Key
from numerblox.submission import NumeraiClassicSubmitter

NUMERAI_PUBLIC_ID = &quot;YOUR_PUBLIC_ID&quot;
NUMERAI_SECRET_KEY = &quot;YOUR_SECRET_KEY&quot;

# Your predictions on the live data
predictions = ...

# Fill in you public and secret key for Numerai
key = Key(pub_id=NUMERAI_PUBLIC_ID, secret_key=NUMERAI_SECRET_KEY)
submitter = NumeraiClassicSubmitter(directory_path=&quot;sub_current_round&quot;, key=key)
# full_submission checks contents, saves as csv and submits.
submitter.full_submission(dataf=predictions,
                          cols=&quot;prediction&quot;,
                          model_name=&quot;YOUR_MODEL_NAME&quot;)
# (optional) Clean up directory after submission
submitter.remove_base_directory()
</code></pre>
<h2 id="4-contributing">4. Contributing</h2>
<p>Be sure to read the <a href="/contributing/">How To Contribute section</a> for detailed instructions on
contributing.</p>
<p>If you have questions or want to discuss new ideas for NumerBlox,
please create a Github issue first.</p>
<h2 id="5-crediting-sources">5. Crediting sources</h2>
<p>Some of the components in this library may be based on forum posts,
notebooks or ideas made public by the Numerai community. We have done
our best to ask all parties who posted a specific piece of code for
their permission and credit their work in the documentation. If your
code is used in this library without credits, please let us know, so we
can add a link to your article/code.</p>
<p>If you are contributing to NumerBlox and are using ideas posted
earlier by someone else, make sure to credit them by posting a link to
their article/code in documentation.</p>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.top", "navigation.tabs", "navigation.tracking", "navigation.tabs.sticky", "navigation.expand", "content.code.copy"], "search": "assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.81fa17fe.min.js"></script>
      
    
  </body>
</html>